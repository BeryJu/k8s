apiVersion: monitoring.coreos.com/v1
kind: ThanosRuler
metadata:
  name: beryjuorg-thanos-ruler
  namespace: main-monitoring
spec:
  ruleNamespaceSelector:
    matchLabels:
      beryju.org/role: main-monitoring
  queryEndpoints:
    - dnssrv+_http._tcp.thanos-query-frontend.main-monitoring.svc.cluster.local
  objectStorageConfig:
    name: beryjuorg-thanos-objectstore
    key: objstore.yml
