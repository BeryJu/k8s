apiVersion: ricoberger.de/v1alpha1
kind: VaultSecret
metadata:
  name: authentik-secrets
  namespace: passbook-v3
spec:
  path: kv/services/authentik-prod
  type: Opaque
  templates:
    values.yaml: |
      backup:
        accessKey: "{% .Secrets.backup_access_key %}"
        secretKey: "{% .Secrets.backup_secret_key %}"
      config:
        email:
          username: "{% .Secrets.email_username %}"
          password: "{% .Secrets.email_password %}"
        secretKey: "{% .Secrets.secret_key %}"
      geoip:
        accountId: "{% .Secrets.geoip_account %}"
        licenseKey: "{% .Secrets.geoip_license %}"
      postgresql:
        postgresqlPassword: "{% .Secrets.postgres_password %}"
      redis:
        password: "{% .Secrets.redis_password %}"
