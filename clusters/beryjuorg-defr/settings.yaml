---
apiVersion: v1
kind: ConfigMap
metadata:
  namespace: flux-system
  name: cluster-settings
data:
  # MetalLB
  METALLB_PEER: "10.120.20.1"
  METALLB_PEER_ASN: "204662"
  METALLB_ASN: "65553"
  METALLB_RANGE: "10.120.21.0/28"
  METALLB_PROTOCOL: bgp
  # Vault
  VAULT_AUTH_PATH: "auth/k8s-defr"
  # Cluster name
  CLUSTER_NAME: "beryjuorg-defr"
  # Ingress public IP
  INGRESS_IP: "10.120.21.1"
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: cluster-settings
  namespace: logging
data:
  values.yaml: |
    config:
      outputs: |
        [OUTPUT]
            Name loki
            Match *
            Host log1.prod.beryju.org
            Port 3100
            auto_kubernetes_labels on
            labels job=k8s-beryjuorg-defr
            label_keys $sub['stream']
