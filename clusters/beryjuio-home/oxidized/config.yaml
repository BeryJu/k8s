apiVersion: v1
kind: ConfigMap
metadata:
  name: oxidized-config
  namespace: oxidized
data:
  config: |-
    ---
    username: _backup
    model: vyatta
    resolve_dns: true
    interval: 3600
    use_syslog: false
    debug: false
    threads: 30
    timeout: 20
    retries: 3
    rest: 0.0.0.0:8888
    next_adds_job: false
    vars:
      ssh_keys: "~/.ssh/id_rsa"
    groups: {}
    models: {}
    pid: "/home/oxidized/.config/oxidized/pid"
    crash:
      directory: "/home/oxidized/.config/oxidized/crashes"
      hostnames: false
    stats:
      history_size: 10
    input:
      default: ssh, telnet
      debug: false
      ssh:
        secure: false
      ftp:
        passive: true
      utf8_encoded: true
    output:
      default: git
      git:
        user: Oxidized
        email: o@beryju.org
        repo: "/run/state/config.git"
    source:
      default: csv
      csv:
        file: "/config/devices/devices.csv"
        delimiter: !ruby/regexp /:/
        map:
          name: 0
          model: 1
          username: 2
          password: 3
        gpg: false
    hooks:
      push_to_remote:
        type: githubrepo
        events: [post_store]
        remote_repo: git@code.beryju.org:BeryJu.org/oxidized.git
        publickey: /home/oxidized/.ssh/id_rsa.pub
        privatekey: /home/oxidized/.ssh/id_rsa
